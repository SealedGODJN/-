# 网络传输延迟仿真

## 目的

1）模拟多个消息同时由发送端发出时，可能在每两个网络节点port相连之间的channel中产生排队延迟

2）

## 测试项

| 序号 | 测试项                                   | 思路                                                                               | 问题                                                                      | 已完成 | 日期         |
|----|---------------------------------------|----------------------------------------------------------------------------------|-------------------------------------------------------------------------|-----|------------|
| 1  | 发送方以固定的周期往接收方的队列channel中发送消息          | 1）创建1个producer<br />生产者，以refreshPeriod为周期往channel中添加消息flow                       |                                                                         | √   | 2023.11.27 |
| 2  | 接收方以固定的周期从接收队列channel中接收消息（同时计算消息的延迟） | 1）创建1个consumer<br />消费者，以refreshPeriod为周期来remove队列channel中的消息flow<br />2）计算消息的延迟 |                                                                         | √   | 2023.11.27 |
| 3  | 生产者一直生产消息，消费者一直接收消息                   | 1）while (true)<br />2）生产者消费者模式<br />3）创建一个channel，两个线程Port，一个是生产者，一个是消费者         |                                                                         | √   | 2023.11.27 |
| 4  | 使用线程池管理线程task，并使用shutdownNow()停止所有线程  | 将生产者和消费者Port放入线程池                                                                | 1）如果while(true)一直生产消息，<br />则不能正常interrupt线程<br />【解决】：设置线程固定生产10个消息后结束 | √   | 2023.11.28 |
|    | 接收方接收消息后，按照消息路径将消息发送到下一个队列channel中    | 1）修改channel和flow<br />给每个channel配置id<br />2）配置消息flow要经过的路径                       |                                                                         | ×   |            |
|    |                                       |                                                                                  |                                                                         |     |            |
|    | 管理所有的Port、Channel、flow                | Map<int,对应的类>                                                                    |                                                                         |     |            |

## 总结
